(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{1242:function(t,e,n){"use strict";var o=n(13),r=n(72),l={props:{txs:{type:[Array,Object],default:function(){return[]}},title:{type:String,default:""},subtitle:{type:String,default:""},txName:{type:String,default:""}},computed:Object(o.a)({},Object(r.c)("txHashKeeper",["txExplorerUrl","txHashToRender","txStatusClass"]),{show:function(){return"multisendTxs"===this.txName?this.txs.length>0:this.txs.txHash},multisend:function(){return"multisendTxs"===this.txName}})},c=n(15),component=Object(c.a)(l,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("div",{staticClass:"token-field"},[t.title?n("div",{staticClass:"title",class:{"is-spaced":t.subtitle}},[t._v(t._s(t.title))]):t._e(),t._v(" "),t.subtitle?n("div",{staticClass:"subtitle"},[t._v(t._s(t.subtitle))]):t._e(),t._v(" "),t.multisend?n("ol",{staticClass:"txs"},t._l(t.txs,function(e){var o=e.txHash,r=e.status;return n("li",{key:o,staticClass:"txs__item",class:t.txStatusClass(r)},[n("a",{staticClass:"txs__address",attrs:{href:t.txExplorerUrl(t.txName,o),target:"_blank"}},[t._v("\n        "+t._s(t.txHashToRender(t.txName,o))+"\n      ")]),t._v(" "),n("div",{staticClass:"txs__status"})])}),0):n("div",{staticClass:"txs"},[n("div",{staticClass:"txs__item",class:t.txStatusClass(t.txs.status)},[n("a",{staticClass:"txs__address",attrs:{href:t.txExplorerUrl(t.txName),target:"_blank"}},[t._v("\n        "+t._s(t.txHashToRender(t.txName))+"\n      ")]),t._v(" "),n("div",{staticClass:"txs__status"})])])]):t._e()},[],!1,null,null,null);e.a=component.exports},1243:function(t,e,n){"use strict";n(276);var o={props:{activeStep:{type:Number,default:0},lastStepLabel:{type:String,default:"push"}},computed:{label:function(){return"pull"===this.lastStepLabel?this.$t("createPool"):this.$t("multisend")}}},r=n(15),component=Object(r.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-steps",{attrs:{type:"is-primary","has-navigation":!1},model:{value:t.activeStep,callback:function(e){t.activeStep=e},expression:"activeStep"}},[n("b-step-item",{attrs:{label:t.$t("prepare")}}),t._v(" "),n("b-step-item",{attrs:{label:t.$t("approve")}}),t._v(" "),n("b-step-item",{attrs:{label:t.label}})],1)},[],!1,null,null,null);e.a=component.exports},1379:function(t,e,n){"use strict";n.r(e);n(42);var o=n(4),r=n(13),l=n(1243),c=n(1242),v=n(72),d=n(14),_=n(23),h={head:{bodyAttrs:{class:"no-bg"}},components:{Steps:l.a,Tx:c.a},data:function(){return{approveSize:!1,isApproved:!1,infoBox:this.$t("preparing"),alreadyPressed:!1}},computed:Object(r.a)({},Object(v.d)("distribution",["list","totalTokens","strategy","currentCheck"]),Object(v.d)("token",["tokenBalance"]),Object(v.d)("metamask",["ethBalance"]),Object(v.d)("txHashKeeper",["approveTx"]),Object(v.c)("token",["toDecimals","getTokenSymbol","allowance"]),Object(v.c)("metamask",["networkConfig"]),Object(v.c)("distribution",["hasEnoughApprovedTokens"]),{isNotEnoughTokens:function(){var t=new _(this.tokenBalance),e=new _(this.totalTokens);return t.isLessThan(e)},approveButtonText:function(){return this.hasEnoughApprovedTokens?this.$t("proceed"):this.$t("approveButton")},isLoading:function(){switch(this.approveTx.status){case d.default.waitingForReciept:return!0;case d.default.success:return!this.isApproved}return!1},isNotSendingAllBalance:function(){var t=new _(this.tokenBalance);return new _(this.totalTokens).isLessThan(t)}}),beforeCreate:function(){0===this.$store.state.distribution.list.length&&this.$store.dispatch("router/goToIndex")},mounted:function(){this.approveSize=this.tokenBalance,this.$nuxt.$loading.finish()},methods:Object(r.a)({},Object(v.b)("token",["sendApprove"]),Object(v.b)("router",["goToTheNextPage"]),{approveButtonAction:function(){var t=Object(o.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,this.hasEnoughApprovedTokens){t.next=9;break}return this.alreadyPressed=!0,t.next=5,this.sendApprove(this.approveSize);case 5:this.isApproved=t.sent,this.alreadyPressed=!1,t.next=10;break;case 9:this.goToTheNextPage();case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),this.alreadyPressed=!1;case 15:case"end":return t.stop()}},t,this,[[0,12]])}));return function(){return t.apply(this,arguments)}}()})},m=n(15),component=Object(m.a)(h,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"m-container"},[n("Steps",{attrs:{"active-step":1,"last-step-label":t.strategy}})],1),t._v(" "),n("div",{staticClass:"columns is-multiline has-token-info is-centered"},[n("div",{staticClass:"column is-half-tablet is-one-quarter-desktop"},[n("div",{staticClass:"token-info"},[n("div",{staticClass:"token-info__value"},[t._v(t._s(t.toDecimals(t.allowance)))]),t._v(" "),n("div",{staticClass:"token-info__name"},[t._v(t._s(t.$t("currentApproval")))])])]),t._v(" "),n("div",{staticClass:"column is-half-tablet is-one-quarter-desktop"},[n("div",{staticClass:"token-info"},[n("div",{staticClass:"token-info__value"},[t._v(t._s(t.toDecimals(t.totalTokens))+" "+t._s(t.getTokenSymbol))]),t._v(" "),n("div",{staticClass:"token-info__name"},[t._v(t._s(t.$t("totalTokensToSend")))])])]),t._v(" "),n("div",{staticClass:"column is-half-tablet is-one-quarter-desktop"},[n("div",{staticClass:"token-info"},[n("div",{staticClass:"token-info__value"},[t._v(t._s(t.toDecimals(t.tokenBalance))+" "+t._s(t.getTokenSymbol))]),t._v(" "),n("div",{staticClass:"token-info__name"},[t._v(t._s(t.$t("yourBalance")))])])]),t._v(" "),n("div",{staticClass:"column is-half-tablet is-one-quarter-desktop"},[n("div",{staticClass:"token-info"},[n("div",{staticClass:"token-info__value"},[t._v(t._s(t.toDecimals(t.ethBalance,18)))]),t._v(" "),n("div",{staticClass:"token-info__name"},[t._v("\n          "+t._s(t.$t("yourTokenBalance",{token:t.networkConfig.currencyName}))+"\n        ")])])])]),t._v(" "),n("div",{staticClass:"m-container",attrs:{hidden:t.isNotEnoughTokens}},[n("div",{staticClass:"token-field"},[n("div",{staticClass:"title"},[t._v(t._s(t.$t("amountToApprove")))]),t._v(" "),n("div",{staticClass:"columns is-vcentered"},[t.isNotSendingAllBalance?n("div",{staticClass:"column"},[n("div",{staticClass:"field"},[n("b-radio",{attrs:{size:"is-medium","native-value":t.totalTokens},model:{value:t.approveSize,callback:function(e){t.approveSize=e},expression:"approveSize"}},[t._v("\n              "+t._s(t.$t("exactAmountToSent"))+" ("+t._s(t.toDecimals(t.totalTokens))+" "+t._s(t.getTokenSymbol)+")\n            ")])],1)]):t._e(),t._v(" "),n("div",{staticClass:"column"},[n("div",{staticClass:"field"},[n("b-radio",{attrs:{size:"is-medium","native-value":t.tokenBalance},model:{value:t.approveSize,callback:function(e){t.approveSize=e},expression:"approveSize"}},[t._v("\n              "+t._s(t.$t("yourFullBalance"))+" ("+t._s(t.toDecimals(t.tokenBalance))+" "+t._s(t.getTokenSymbol)+")\n            ")])],1)])])]),t._v(" "),n("Tx",{attrs:{txs:t.approveTx,"tx-name":"approveTx",title:t.$t("approveTransactionHash")}}),t._v(" "),n("div",{staticClass:"buttons is-centered"},[n("b-button",{staticClass:"is-next",attrs:{id:"approve-and-proceed-button",loading:t.isLoading,type:"is-primary",disabled:t.alreadyPressed},on:{click:t.approveButtonAction}},[t._v("\n        "+t._s(t.approveButtonText)+"\n      ")])],1)],1),t._v(" "),n("div",{staticClass:"m-container"},[n("b-notification",{attrs:{type:"is-success",closable:!1,active:2===t.approveTx.status&&t.isLoading},on:{"update:active":function(e){return t.$set(t.approveTx,"status === 2 && isLoading",e)}}},[t._v("\n      "+t._s(t.infoBox)+"...\n    ")]),t._v(" "),t.currentCheck.method?n("b-notification",{attrs:{closable:!1,type:"is-primary",active:2===t.approveTx.status&&t.isLoading},on:{"update:active":function(e){return t.$set(t.approveTx,"status === 2 && isLoading",e)}}},[t._v("\n      "+t._s(t.$t(t.currentCheck.method))+" "+t._s(t.$t("from"))+" "+t._s(t.currentCheck.from)),t.currentCheck.to?n("span",[t._v(" "+t._s(t.$t("to"))+" ")]):t._e(),t._v(" "+t._s(t.currentCheck.to)+"\n    ")]):t._e(),t._v(" "),n("b-notification",{attrs:{type:"is-danger",closable:!1,active:t.isNotEnoughTokens,role:"alert"},on:{"update:active":function(e){t.isNotEnoughTokens=e}}},[t._v("\n      "+t._s(t.$t("notEnoughTokens"))+"\n    ")])],1)])},[],!1,null,null,null);e.default=component.exports}}]);